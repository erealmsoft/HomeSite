/*! eRealm - v1.0.0
* 2014-08-18 18:59:32
* http://www.erealm.com.my
* Copyright (c) 2014 - dangjian */ 
var erealm=angular.module("erealm",["ui.bootstrap"]);erealm.directive("scroll",function(a){return function(b){angular.element(a).bind("scroll",function(){b.showFixedHeader=a.document.body.scrollTop>280,b.$apply()})}}),angular.module("erealm").factory("client",["$http",function(a){return{getWorks:function(){return a.get("/data/works.json")},getContacts:function(){return a.get("/data/contact.json")},getFlickrPhotos:function(){return a.jsonp("http://api.flickr.com/services/feeds/groups_pool.gne?id=2678732@N20&lang=en-us&format=json&jsoncallback=JSON_CALLBACK")},submitMessage:function(b,c,d){return a.post("/app/message",{name:b,email:c,message:d})}}}]),angular.module("erealm").controller("AboutController",["$scope","client",function(a,b){"use strict";a.subTitle="ABOUT",a.mainTitle="working with you",a.currentPage="about-page",b.getFlickrPhotos().then(function(b){var c=b.data.items;angular.forEach(c,function(a){a.media.m=a.media.m.replace("_m","_q")}),a.photos=c})}]),angular.module("erealm").controller("ContactController",["$scope","client",function(a,b){"use strict";a.subTitle="CONTACT",a.mainTitle="Say Hello",a.currentPage="contact-page",b.getContacts().then(function(b){a.contacts=b.data,a.changeMap(b.data[0])}),a.changeMap=function(b){a.activeMap=b.name;var c=b.map.latLng,d=b.map.point,e=new google.maps.LatLng(c[0],c[1]),f={zoom:15,center:e,scrollwheel:!1,scaleControl:!1,streetViewControl:!1,draggable:!0,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},g=new google.maps.Map(document.getElementById("google_map"),f),h=new google.maps.LatLng(d[0],d[1]),i=new google.maps.MarkerImage("/images/icon_marker.png",new google.maps.Size(42,62),new google.maps.Point(0,0),new google.maps.Point(21,62)),j=new google.maps.MarkerImage("/images/icon_marker_shadow.png",new google.maps.Size(76,62),new google.maps.Point(0,0),new google.maps.Point(21,62)),k={coord:[27,0,29,1,31,2,33,3,34,4,35,5,36,6,37,7,38,8,38,9,39,10,39,11,40,12,40,13,40,14,41,15,41,16,41,17,41,18,41,19,41,20,41,21,41,22,41,23,41,24,41,25,41,26,40,27,40,28,40,29,40,30,39,31,39,32,39,33,38,34,38,35,37,36,37,37,37,38,36,39,36,40,35,41,35,42,34,43,34,44,33,45,33,46,32,47,31,48,31,49,30,50,30,51,29,52,28,53,28,54,27,55,26,56,26,57,25,58,24,59,23,60,22,61,20,61,18,60,17,59,17,58,16,57,15,56,14,55,14,54,13,53,12,52,12,51,11,50,11,49,10,48,9,47,9,46,8,45,8,44,7,43,7,42,6,41,6,40,5,39,5,38,4,37,4,36,4,35,3,34,3,33,2,32,2,31,2,30,2,29,1,28,1,27,1,26,1,25,1,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,1,16,1,15,1,14,1,13,2,12,2,11,3,10,3,9,4,8,5,7,6,6,7,5,8,4,9,3,10,2,12,1,15,0,27,0],type:"poly"},l=(new google.maps.Marker({draggable:!0,raiseOnDrag:!1,icon:i,shadow:j,shape:k,map:g,position:h,title:"Erealm Info & Tech Sdn Bhd"}),[{featureType:"all",stylers:[{saturation:-100}]},{featureType:"road.highway",stylers:[{hue:"#39a9a4"},{saturation:100}]}]);g.setOptions({styles:l})},a.sendMessage=function(){a.form.$invalid||(a.loading=!0,b.submitMessage(a.name,a.email,a.message).then(function(){a.errorMessage="Your message has be sent successfully"},function(){a.loading=!1,a.errorMessage="Your message could not be sent"}))}}]),angular.module("erealm").controller("HomeController",["$scope","client",function(a,b){"use strict";a.subTitle="Hello, We are",a.mainTitle="Erealm Info & Tech",a.currentPage="home-page",a.myInterval=5e3,a.homeBack="back"+Math.floor(6*Math.random()),b.getWorks().then(function(b){a.works=b.data})}]),angular.module("erealm").controller("ProjectController",["$scope","client",function(a){"use strict";a.subTitle="PROJECT",a.mainTitle="submit your project",a.currentPage="project-page"}]),angular.module("erealm").controller("WorkController",["$scope","client",function(a){"use strict";a.subTitle="WORK",a.mainTitle="what we did",a.currentPage="work-page"}]);